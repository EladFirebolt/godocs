---
layout: default
title: Okta
description: Learn how to configure Okta as your identity provider to work with SSO authentication for Firebolt. 
great_grand_parent: Guides
grand_parent: Configure security
parent: Configure SSO
---

# Okta

### Configure Okta application
1. In Okta Admin Console, go to **Applications > Applications**.
2. Click **Create App Integration**.
3. Select **SAML 2.0** as the Sign-in method and click **Next**.
4. In the general configuration, fill in the following fields:
    -  **Single sign-on URL.** 
   
    This URL has the following format `https://id.app.firebolt.io/login/callback?connection=<org_name>-<provider>&organization=<organization_identifier>` 
    
    Contact Firebolt to get your organization_identifier. 
    
    **Example:** https://id.app.firebolt.io/login/callback?connection=vsko-okta&organization=org_82u3nzTNQPA8RyoM
    - **Audience URI (SP Entity ID).** 
   
    This URI has the following format: `urn:auth0:<tenant_name>:<org_name>-<provider>`, where `<tenant_name>` is app-firebolt-v2, `<org_name>` is the name of organization provider and `<provider>` is the provider value set in Firebolt configuration step. 

    **Example:** ```urn:auth0:app-firebolt-v2:vsko-okta```
5. Save the configuration.
6. Open the details of the created app integration, and select the **SAML** tab. Click **More details** to expand additional information.
7. Copy the value for **Identity Provider Single Sign-On URL** and download the signing certificate.

### Example - Firebolt organization configuration to work with Okta

#### UI
1. To configure the Firebolt SSO integration with Okta via the UI, Navigate to **Configure > SSO** in Firebolt. 

2. Once there, enter your Sign-on URL, Issuer, Provider, Label, Certificate, and field-mappings, where 

- ```signOnUrl```: The sign-on URL, provided by the SAML identity provider, to which Firebolt sends the SAML requests. The URL is IdP-specific and is determined by the identity provider during configuration.
- ```signoutUrl(optional)```: The sign-out URL, provided by the application owner, to be used when the user signs out of the application.```
- ```issuer```: A unique value generated by the SAML identity provider specifying the issuer value.
- ```provider```: The provider's name - for example: ```Okta```. 
- ```label```: The label to use for the SSO login button. If not provided, the Provider field value is used. 
- ```certificate```: The certificate to verify the communication between the identity provider and Firebolt. The certificate needs to be in PEM or CER format, and can be uploaded from your computer by choosing **Import certificate** or entered in the text box.
- ```field mapping```: Mapping to your identity provider's first and last name in key-value pairs. If additional fields are required, choose **Add another key-value pair**. Mapping is required for Firebolt to fill in the login’s given and last names the first time the user logs in using SSO. 
      Here’s an example of how to set up field mapping:

      ```json  
        {
            "given_name": "name",
            "family_name": "surname"
        }
      ```

      where the "given_name" (first name) is mapped to the "name" field from the IDP, and the "family_name" (last name) is mapped from the "surname" field.
3. Choose **Update changes**

#### SQL

To create your SSO connection in Firebolt, you can use the following SQL as an example:
```sql
ALTER ORGANIZATION vsko SET SSO = '{
  "signOnUrl": "https://vsko.okta.com/app/vsko_app_1/exk8kq6ikd3Is13KO4x7/sso/saml",
  "issuer": "okta",
  "provider": "okta",
  "label": "Okta Company App",
  "fieldMapping": {
    "given_name": "name",
    "family_name": "surname"
  },
  "certificate": "<certificate>",
}';

where
- ```signOnUrl```: The sign-on URL, provided by the SAML identity provider, to which Firebolt sends the SAML requests. The URL is IdP-specific and is determined by the identity provider during configuration. 
- ```signoutUrl(optional)```: The sign-out URL, provided by the application owner, to be used when the user signs out of the application.```
- ```issuer```: A unique value generated by the SAML identity provider specifying the issuer value.
- ```provider```: The provider's name - for example: ```Okta```. 
- ```label```: The label to use for the SSO login button. If not provided, the Provider field value is used. 
- ```certificate```: The certificate to verify the communication between the identity provider and Firebolt. The certificate needs to be in PEM or CER format, and can be uploaded from your computer by choosing **Import certificate** or entered in the text box.
- ```field mapping```: Mapping to your identity provider's first and last name in key-value pairs. If additional fields are required, choose **Add another key-value pair**. Mapping is required for Firebolt to fill in the login’s given and last names the first time the user logs in using SSO. 
      Here’s an example of how to set up field mapping:

      ```json  
        {
            "given_name": "name",
            "family_name": "surname"
        }
      ```

      where the "given_name" (first name) is mapped to the "name" field from the IDP, and the "family_name" (last name) is mapped from the "surname" field.
